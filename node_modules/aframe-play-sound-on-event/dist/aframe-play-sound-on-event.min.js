if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("play-sound-on-event",{dependencies:["sound"],schema:{mode:{type:"string",default:"one-shot"},event:{type:"string",default:"click"}},play:function(){this.removed&&this.update()},pause:function(){this.remove()},update:function(e){switch(this.removed||this.remove(),this.data.mode){case"one-shot":this.eventTriggered=(()=>{this.el.components.sound.stopSound(),this.el.components.sound.playSound()});break;case"play-only":this.eventTriggered=this.el.components.sound.playSound;break;case"toggle-pause":this.eventTriggered=(()=>{this.soundPlaying?(this.el.components.sound.pauseSound(),this.soundPlaying=!1):(this.el.components.sound.playSound(),this.soundPlaying=!0)}),this.soundEnded=(()=>this.soundPlaying=!1),this.el.addEventListener("sound-ended",this.soundEnded);break;case"toggle-stop":this.eventTriggered=(()=>{this.soundPlaying?(this.el.components.sound.stopSound(),this.soundPlaying=!1):(this.el.components.sound.playSound(),this.soundPlaying=!0)}),this.soundEnded=(()=>this.soundPlaying=!1),this.el.addEventListener("sound-ended",this.soundEnded);break;default:throw"Invalid mode: "+this.data.mode}this.soundPlaying=this.el.components.sound.autoplay,this.el.addEventListener(this.data.event,this.eventTriggered),this.removed=!1},remove:function(){this.el.removeEventListener(this.data.event,this.eventTriggered),this.el.removeEventListener("sound-ended",this.soundEnded),this.removed=!0}});